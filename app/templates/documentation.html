<!-- app/templates/documentation.html -->
{% extends "base.html" %}
{% block content %}

<style>
    .docs-hero {
        background: linear-gradient(135deg, #2d3561 0%, #c05c7e 100%);
        color: white;
        padding: 60px 0;
        margin: -2rem -15px 3rem;
        border-radius: 20px;
    }
    
    .docs-sidebar {
        position: sticky;
        top: 20px;
    }
    
    .docs-nav {
        list-style: none;
        padding: 0;
    }
    
    .docs-nav li {
        margin-bottom: 0.5rem;
    }
    
    .docs-nav a {
        display: block;
        padding: 0.5rem 1rem;
        border-radius: 8px;
        text-decoration: none;
        color: #333;
        transition: all 0.3s ease;
    }
    
    .docs-nav a:hover, .docs-nav a.active {
        background: var(--primary-color);
        color: white;
    }
    
    .code-block {
        background: #1e1e1e;
        color: #d4d4d4;
        padding: 1.5rem;
        border-radius: 10px;
        overflow-x: auto;
    }
    
    .endpoint-card {
        border-left: 4px solid var(--primary-color);
        padding: 1rem;
        margin-bottom: 1rem;
        background: #f8f9fa;
        border-radius: 5px;
    }
</style>

<!-- Hero -->
<section class="docs-hero">
    <div class="container text-center">
        <h1 class="display-3 fw-bold mb-3">API Documentation</h1>
        <p class="lead">Complete guide to integrating with YourApp</p>
    </div>
</section>

<!-- Documentation Content -->
<section>
    <div class="container">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-lg-3">
                <div class="docs-sidebar">
                    <h5 class="mb-3">Contents</h5>
                    <ul class="docs-nav">
                        <li><a href="#introduction" class="active">Introduction</a></li>
                        <li><a href="#authentication">Authentication</a></li>
                        <li><a href="#endpoints">API Endpoints</a></li>
                        <li><a href="#errors">Error Handling</a></li>
                        <li><a href="#rate-limits">Rate Limits</a></li>
                        <li><a href="#webhooks">Webhooks</a></li>
                        <li><a href="#sdks">SDKs & Libraries</a></li>
                    </ul>
                </div>
            </div>
            
            <!-- Main Content -->
            <div class="col-lg-9">
                <div class="card border-0 shadow-sm">
                    <div class="card-body p-5">
                        <!-- Introduction -->
                        <section id="introduction" class="mb-5">
                            <h2 class="mb-3">Introduction</h2>
                            <p class="lead">
                                Welcome to the YourApp API! Our RESTful API allows you to integrate 
                                your applications with our platform programmatically.
                            </p>
                            <p>
                                Base URL: <code>{{ request.url_root }}api/v1/</code>
                            </p>
                        </section>
                        
                        <!-- Authentication -->
                        <section id="authentication" class="mb-5">
                            <h2 class="mb-3">Authentication</h2>
                            <p>
                                All API requests require authentication using an API key. Include your 
                                API key in the Authorization header:
                            </p>
                            <div class="code-block mb-3">
<pre><code>Authorization: Bearer sk_live_your_api_key_here</code></pre>
                            </div>
                            <p>
                                You can manage your API keys in your 
                                <a href="{{ url_for('account.api_keys') }}">account settings</a>.
                            </p>
                        </section>
                        
                        <!-- Endpoints -->
                        <section id="endpoints" class="mb-5">
                            <h2 class="mb-3">API Endpoints</h2>
                            
                            <div class="endpoint-card">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <strong>GET /api/v1/me</strong>
                                    <span class="badge bg-success">Authenticated</span>
                                </div>
                                <p class="text-muted mb-2">Get current authenticated user information</p>
                                <div class="code-block">
<pre><code>curl -H "Authorization: Bearer YOUR_API_KEY" \
  {{ request.url_root }}api/v1/me</code></pre>
                                </div>
                            </div>
                            
                            <div class="endpoint-card">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <strong>GET /api/v1/profile</strong>
                                    <span class="badge bg-success">Authenticated</span>
                                </div>
                                <p class="text-muted mb-2">Get user profile with full details</p>
                                <div class="code-block">
<pre><code>curl -H "Authorization: Bearer YOUR_API_KEY" \
  {{ request.url_root }}api/v1/profile</code></pre>
                                </div>
                            </div>
                            
                            <div class="endpoint-card">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <strong>GET /api/v1/api-keys</strong>
                                    <span class="badge bg-success">Authenticated</span>
                                </div>
                                <p class="text-muted mb-2">List all API keys for the authenticated user</p>
                            </div>
                        </section>
                        
                        <!-- Error Handling -->
                        <section id="errors" class="mb-5">
                            <h2 class="mb-3">Error Handling</h2>
                            <p>The API uses standard HTTP response codes:</p>
                            <ul>
                                <li><code>200</code> - Success</li>
                                <li><code>400</code> - Bad Request</li>
                                <li><code>401</code> - Unauthorized</li>
                                <li><code>403</code> - Forbidden</li>
                                <li><code>404</code> - Not Found</li>
                                <li><code>500</code> - Internal Server Error</li>
                            </ul>
                            <p>Error responses include a JSON body with details:</p>
                            <div class="code-block">
<pre><code>{
  "error": "Invalid API key",
  "message": "The provided API key is invalid"
}</code></pre>
                            </div>
                        </section>
                        
                        <!-- Rate Limits -->
                        <section id="rate-limits" class="mb-5">
                            <h2 class="mb-3">Rate Limits</h2>
                            <p>API rate limits vary by plan:</p>
                            <ul>
                                <li><strong>Free:</strong> 100 requests/hour</li>
                                <li><strong>Pro:</strong> 1,000 requests/hour</li>
                                <li><strong>Enterprise:</strong> 10,000 requests/hour</li>
                            </ul>
                        </section>
                        
                        <!-- Webhooks -->
                        <section id="webhooks" class="mb-5">
                            <h2 class="mb-3">Webhooks</h2>
                            <p>
                                Webhooks allow you to receive real-time notifications about events 
                                in your account. Configure webhooks in your account settings.
                            </p>
                        </section>
                        
                        <!-- SDKs -->
                        <section id="sdks" class="mb-5">
                            <h2 class="mb-3">SDKs & Libraries</h2>
                            <p>Official SDKs are available for:</p>
                            <ul>
                                <li><strong>Python:</strong> <code>pip install yourapp-sdk</code></li>
                                <li><strong>JavaScript:</strong> <code>npm install yourapp-sdk</code></li>
                                <li><strong>PHP:</strong> <code>composer require yourapp/sdk</code></li>
                                <li><strong>Ruby:</strong> <code>gem install yourapp</code></li>
                            </ul>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}
